<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>HCI Project</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-slider.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
</head>

<body>

<div class="container-fluid">


    <div class="row">



        <div class="col-sm-3 col-md-2 sidebar">
            <div class="profile-container clearfix">
                <div class="profile-img-container">
                    <img class="profile-pic" src="img/profile.jpg" alt="Profile picture">
                </div>
                <div class="profile-detail-container">
                    <h4 class="profile-name">Mance Rayder</h4>
                    <a href="#">Settings</a>
                    &nbsp;·&nbsp;
                    <a href="#">Logout</a>
                </div>
            </div>

            <ul class="nav nav-sidebar">
                <li class="active"><a href="#">Dashboard</a></li>
                <li class="nav-sidebar-item--resources"><a href="#">Resources</a></li>
                <li><a href="#">Starred</a></li>
            </ul>
            <h4 class="sidebar-header">Conservations</h4>
            <button type="button" class="btn btn-xs new-convo-btn">Create</button>
            <ul class="nav nav-sidebar">
                <li><a href="">Conversation 1 <span class="badge">2</span></a></li>
                <li><a href="">Conversation 2</a></li>
                <li><a href="">Conversation 3 <span class="badge">6</span></a></li>
                <li><a href="">Conversation 4</a></li>
            </ul>
        </div>

        <div class="col-sm-5 col-sm-offset-3 col-md-6 col-md-offset-2 middle-pane conversation-container is-active">


            <div class="conversation-header">
                <h2>
                    <span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>
                    <span contenteditable="true">Conversation name</span>
                </h2>
                <div class="btn-group btn-group-sm" role="group">
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-upload" aria-hidden="true"></span>
                        <span>Upload</span>
                    </button>
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span>
                        <span>Files</span>
                    </button>
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                        <span>Members</span>
                    </button>
                    <button type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                        <span>Leave</span>
                    </button>
                </div>
            </div>

            <div class="conversation-content">
                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile2.jpg" alt="">
                    <div class="conversation-text">Cotton candy cake liquorice soufflé cheesecake pie. Biscuit toffee
                        pudding dragée cake cupcake candy canes. Tart liquorice icing icing bear claw gummies. Gummi
                        bears bonbon jujubes marshmallow croissant cake wafer lollipop.
                    </div>
                </div>

                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile.jpg" alt="">
                    <div class="conversation-text">Dragée powder biscuit cupcake pie. Caramels caramels lollipop
                        chocolate. Muffin chocolate dessert biscuit ice cream jelly dessert candy canes sweet.
                    </div>
                </div>

                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile2.jpg" alt="">
                    <div class="conversation-text">Jelly-o muffin donut powder dessert. Cookie halvah biscuit jelly. Ice
                        cream pastry candy lollipop danish. Cupcake cupcake cake bonbon wafer macaroon chocolate bar.
                    </div>
                </div>

                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile.jpg" alt="">
                    <div class="conversation-text">Cotton candy cake liquorice soufflé cheesecake pie. Biscuit toffee
                        pudding dragée cake cupcake candy canes. Tart liquorice icing icing bear claw gummies. Gummi
                        bears bonbon jujubes marshmallow croissant cake wafer lollipop.
                    </div>
                </div>

                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile2.jpg" alt="">
                    <div class="conversation-text">Cupcake lemon drops apple pie. Croissant jelly beans apple pie.
                        Lollipop lemon drops cookie jelly. Sugar plum marzipan caramels candy..
                    </div>
                </div>
                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile2.jpg" alt="">
                    <div class="conversation-text">Cotton candy cake liquorice soufflé cheesecake pie. Biscuit toffee
                        pudding dragée cake cupcake candy canes. Tart liquorice icing icing bear claw gummies. Gummi
                        bears bonbon jujubes marshmallow croissant cake wafer lollipop.
                    </div>
                </div>

                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile.jpg" alt="">
                    <div class="conversation-text">Dragée powder biscuit cupcake pie. Caramels caramels lollipop
                        chocolate. Muffin chocolate dessert biscuit ice cream jelly dessert candy canes sweet.
                    </div>
                </div>

                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile2.jpg" alt="">
                    <div class="conversation-text">Jelly-o muffin donut powder dessert. Cookie halvah biscuit jelly. Ice
                        cream pastry candy lollipop danish. Cupcake cupcake cake bonbon wafer macaroon chocolate bar.
                    </div>
                </div>

                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile.jpg" alt="">
                    <div class="conversation-text">Cotton candy cake liquorice soufflé cheesecake pie. Biscuit toffee
                        pudding dragée cake cupcake candy canes. Tart liquorice icing icing bear claw gummies. Gummi
                        bears bonbon jujubes marshmallow croissant cake wafer lollipop.
                    </div>
                </div>

                <div class="conversation-entry">
                    <img class="conversation-avatar" src="img/profile2.jpg" alt="">
                    <div class="conversation-text">Cupcake lemon drops apple pie. Croissant jelly beans apple pie.
                        Lollipop lemon drops cookie jelly. Sugar plum marzipan caramels candy..
                    </div>
                </div>
            </div>

            <div class="input-group conversation-reply">
                <input type="text" class="form-control">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">Send</button>
                </span>
            </div>
        </div>

        <div class="col-sm-5 col-sm-offset-3 col-md-6 col-md-offset-2 middle-pane resource-container">
            <div class="conversation-header">
                <h2>Resources</h2>
                <div class="input-group input-group-sm">
                    <div class="input-group-btn" role="group">
                        <button type="button" class="btn btn-default">
                            <span class="glyphicon glyphicon-upload" aria-hidden="true"></span>
                            <span>Upload</span>
                        </button>
                        <button type="button" class="btn btn-default">
                            <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
                            <span>Manage</span>
                        </button>
                    </div>
                    <input type="text" class="form-control" aria-label="Search" placeholder="Search for file...">
                </div>
                <div class="resource-files-list">
                    <div class="resource-file">
                        <div class="resource-file-icon">
                            <span class="glyphicon glyphicon-music"></span>
                        </div>
                        <div class="resource-file-name">File 1</div>
                    </div>
                    <div class="resource-file">
                        <div class="resource-file-icon">
                            <span class="glyphicon glyphicon-music"></span>
                        </div>
                        <div class="resource-file-name">File 2</div>
                    </div>
                    <div class="resource-file">
                        <div class="resource-file-icon">
                            <span class="glyphicon glyphicon-paperclip"></span>
                        </div>
                        <div class="resource-file-name">File 3</div>
                    </div>
                    <div class="resource-file">
                        <div class="resource-file-icon">
                            <span class="glyphicon glyphicon-music"></span>
                        </div>
                        <div class="resource-file-name">File 4</div>
                    </div>
                    <div class="resource-file">
                        <div class="resource-file-icon">
                            <span class="glyphicon glyphicon-paperclip"></span>
                        </div>
                        <div class="resource-file-name">File 5</div>
                    </div>
                    <div class="resource-file">
                        <div class="resource-file-icon">
                            <span class="glyphicon glyphicon-paperclip"></span>
                        </div>
                        <div class="resource-file-name">File 6</div>
                    </div>
                    <div class="resource-file">
                        <div class="resource-file-icon">
                            <span class="glyphicon glyphicon-music"></span>
                        </div>
                        <div class="resource-file-name">File 7</div>
                    </div>
                </div>
            </div>
        </div>











        <div class="col-sm-4 col-md-4 music-panel-container">

            <div class="music-panel-header">
                <h2>
                    <span class="glyphicon glyphicon-music"></span>
                    <span>&nbsp;liberi_fatali.mp3</span>
                </h2>

                <div class="music-info">
                    <div class="description">
                        <span>Some very interesting description can be here.</span>
                    </div>

                    <div class="comment-count">
                        <span>7 comments</span>
                    </div>
                </div>
            </div>


            <div class="music-player">
                <div class="row">

                    <div class="action-controls col-sm-2">
                        <button type="button" class="btn btn-lg btn-default pull-right">
                            <span class="glyphicon glyphicon-play"></span>
                        </button>
                    </div>

                    <div class="waveform-display col-sm-10">
                        <span id="curTime"><span id="wave-slider-value">00:00:00.000</span></span>

                        <div class="music-slider">
                            <input id="wave-slider" type="text" data-slider-min="0" data-slider-max="188000" data-slider-step="1" data-slider-value="0" data-slider-handle="custom" data-slider-tooltip="hide"/>
                        </div>

                        <div id="comments-bar">
                            <button type="button" class="btn btn-default btn-circle comments-hook" onclick="setSliderValue(18800)" style="left: calc(10% - 5px)"></button>
                            <button type="button" class="btn btn-default btn-circle comments-hook" onclick="setSliderValue(37600)" style="left: calc(20% - 5px)"></button>
                            <button type="button" class="btn btn-default btn-circle comments-hook" onclick="setSliderValue(84600)" style="left: calc(45% - 5px)"></button>
                            <button type="button" class="btn btn-default btn-circle comments-hook" onclick="setSliderValue(112800)" style="left: calc(60% - 5px)"></button>
                        </div>
                    </div>

                </div>
            </div>


            <div class="music-panel-comments">

                <div class="comments-entry-18800">
                    <div class="comments-timestamp col-sm-3">00:18:800</div>
                    <div class="col-sm-9">
                        <div class="comments-wrapper pull-right">
                            <img class="comments-avatar" src="img/profile2.jpg" alt="">
                            <p class="comments-text">This is a random comment.</p>
                        </div>
                    </div>
                </div>


                <div class="comments-entry-37600">
                    <div class="comments-timestamp col-sm-3">00:37:600</div>
                    <div class="col-sm-9">
                        <div class="comments-wrapper pull-right">
                            <img class="comments-avatar" src="img/profile2.jpg" alt="">
                            <p class="comments-text">Surely this isn't too big of an issue. We can fix it during the next apocalypse.</p>
                        </div>
                    </div>
                </div>

                <div class="comments-entry-37600">
                    <div class="comments-timestamp col-sm-3">00:37:600</div>
                    <div class="col-sm-9">
                        <div class="comments-wrapper pull-right">
                            <img class="comments-avatar" src="img/profile.jpg" alt="">
                            <p class="comments-text">Once upon a time the world exploded into a million pieces. The end.</p>
                        </div>
                    </div>
                </div>

                <div class="comments-entry-37600">
                    <div class="comments-timestamp col-sm-3">00:37:600</div>
                    <div class="col-sm-9">
                        <div class="comments-wrapper pull-right">
                            <img class="comments-avatar" src="img/profile2.jpg" alt="">
                            <p class="comments-text">ofc it did =___=</p>
                        </div>
                    </div>
                </div>

                <div class="comments-entry-84600">
                    <div class="comments-timestamp col-sm-3">01:24:600</div>
                    <div class="col-sm-9">
                        <div class="comments-wrapper pull-right">
                            <img class="comments-avatar" src="img/profile.jpg" alt="">
                            <p class="comments-text">Jelly-o muffin donut powder dessert. Cookie halvah biscuit jelly. Ice cream pastry candy lollipop danish. Cupcake cupcake cake bonbon wafer macaroon chocolate bar.</p>
                        </div>
                    </div>
                </div>

                <div class="comments-entry-84600">
                    <div class="comments-timestamp col-sm-3">01:24:600</div>
                    <div class="col-sm-9">
                        <div class="comments-wrapper pull-right">
                            <img class="comments-avatar" src="img/profile2.jpg" alt="">
                            <p class="comments-text">......... no comment =|</p>
                        </div>
                    </div>
                </div>

                <div class="comments-entry-112800">
                    <div class="comments-timestamp col-sm-3">01:52:800</div>
                    <div class="col-sm-9">
                        <div class="comments-wrapper pull-right">
                            <img class="comments-avatar" src="img/profile.jpg" alt="">
                            <p class="comments-text">Meh. This convo is super weird anyways.</p>
                        </div>
                    </div>
                </div>

            </div>


            <div class="col-md-12 music-panel-add">
                <button type="button" class="btn btn-default center-block">
                    <span class="glyphicon glyphicon-pencil"></span>  Add Comment
                </button>
            </div>


        </div>
    </div>
</div>


<script src="js/ext/jquery.min.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/main.js"></script>
<script src="js/bootstrap-slider.js"></script>


<script type="text/javascript">

    function position() {

        $( ".comments-hook" ).position({
            of: $( "#comments-bar" ),
            my: "center top",
            at: "left top",
            offset: "20 30",
            collision: "flip flip"
        });
    }

    function showComments(ms) {
        $("[class^=comments-entry-]").css('display','none');

        if (inRange(18800, ms)) {
            $('.comments-entry-18800').css('display','inline-block');

        } else if (inRange(37600, ms)) {
            $('.comments-entry-37600').css('display','inline-block');

        } else if (inRange(84600, ms)) {
            $('.comments-entry-84600').css('display','inline-block');

        } else if (inRange(112800, ms)) {
            $('.comments-entry-112800').css('display','inline-block');

        }
    }

    function inRange(src_ms, val) {
        var showRangeInMS = 5000;

        return val >= (src_ms - showRangeInMS) && val <= (src_ms + showRangeInMS)
    }

    function convertTime(ms) {
        return new Date(ms).toISOString().slice(11, -1);
    }

    function setSliderValue(val) {
        $('#wave-slider').slider('setValue', val);
        $("#wave-slider-value").text(convertTime(val));
        showComments(val);
    }

    $("#wave-slider").slider({});
    $("#wave-slider").on("change", function(slideEvt) {
        $("#wave-slider-value").text(convertTime(slideEvt.value.newValue));
        showComments(slideEvt.value.newValue);
    });

    $( function() {
        position();
    } );


</script>

</body>
</html>
